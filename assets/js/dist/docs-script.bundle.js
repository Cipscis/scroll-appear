(()=>{"use strict";const t=function(t,e){let s=null,i=null;return function(...n){s?(i&&clearTimeout(i),i=setTimeout((()=>{t.apply(this,n),i=null}),e)):(t.apply(this,n),s=setTimeout((()=>{s=null}),e))}};let e=!1;try{const t={get passive(){return e=!0,!1}},s=()=>{};window.addEventListener("test",s,t),window.removeEventListener("test",s)}catch(t){e=!1}const s=e,i=".js-scroll-appear",n="data-scroll-appear-state";var a;!function(t){t.UNINITIALISED="uninitialised",t.HIDDEN="hidden",t.VISIBLE="visible"}(a||(a={}));class o{#t;#e;#s;#i;constructor(){this.#t=[],this.#e=null,this.#s=null,this.#i=0}push(t){this.#n(t)||t.getState()===a.HIDDEN&&(this.#t.push(t),this.#a())}catchUp(){for(let t=0;t<this.#t.length;t++){const e=this.#t[t];!1===e.isInViewport()&&(0===t?this.#o():(this.#t.splice(t,1),e.appear()),t-=1)}}#n(t){return this.#t.includes(t)}#a(){0!==this.#t.length?null===this.#e&&(this.#e=setTimeout((()=>this.#o()),this.#i)):this.#s=setTimeout((()=>{this.#i=0,this.#s=null}),this.#i)}#o(){this.#s&&(clearTimeout(this.#s),this.#s=null),this.#e&&clearTimeout(this.#e),this.#e=null;let t=this.#t.shift();for(;t?.getState()===a.VISIBLE;)t=this.#t.shift();t&&(t.appear(),this.#i=t.delay,this.#a())}}const l=new Map,r=new o;function u(t=document){const e=l.get(t)||new o;return!1===l.has(t)&&l.set(t,e),e}function c(){const t=[];for(const e of l.values())t.push(e);return t}l.set(document,r);const h=new Map;function m(t){return h.get(t)||new d(t)}class d{#l;#r;#u;constructor(t){if(h.has(t))throw new Error("Cannot create a second `ScrollAppearItem` for the same `Element`");h.set(t,this),this.#l=t,this.#r=this.#c(),this.#u=Number(t.getAttribute("data-scroll-appear-delay"))||0,this.getState()===a.UNINITIALISED&&this.#h(a.HIDDEN),this.#l.addEventListener("focusin",(()=>this.appear()),{once:!0})}get delay(){return this.#u}isInViewport(t=0){const e=window.innerHeight/2-50;t>e&&(t=e);const s=this.#l.getBoundingClientRect(),i=t,n=(window.innerHeight||document.documentElement.clientWidth)-t,a=s.bottom>=i,o=s.top<=n;return a&&o}appear(){this.#h(a.VISIBLE)}#h(t){this.#l.setAttribute(n,t)}getState(){const t=this.#l.getAttribute(n);return e=t,Object.values(a).includes(e)?t:a.UNINITIALISED;var e}#c(){const t=this.#l.getAttribute("data-scroll-appear-queue");if(t)return u(t);const e=this.#l.closest(".js-scroll-appear__container");return e?u(e):u()}queue(){this.#r.push(this)}}function p(t){m(t)}function I(){Array.from(document.querySelectorAll(i)).map(m).filter((t=>t.getState()===a.HIDDEN)).filter((t=>t.isInViewport())).forEach((t=>t.queue()))}function f(){const t=c();for(const e of t)e.catchUp()}!function(e=document){!function(t=document){Array.from(t.querySelectorAll(i)).forEach(p),I()}(e),function(){const e=!s||{passive:!0},i=t(I,100);window.addEventListener("scroll",i,e),window.addEventListener("resize",i,e);const n=t(f,100);window.addEventListener("scroll",n,e),window.addEventListener("resize",n,e)}()}()})();
//# sourceMappingURL=docs-script.bundle.js.map