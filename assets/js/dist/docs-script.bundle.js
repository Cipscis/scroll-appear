(()=>{"use strict";const e=function(e,t){let i;return function(...s){if(!i){const n=e.apply(this,s);return i=setTimeout((()=>{i=void 0}),t),n}}},t=function(e,t){let i,s,n;return function(...o){const r=r=>{i&&clearTimeout(i),i=setTimeout((()=>{i=void 0,s=void 0,n=void 0,r(e.apply(this,o))}),t)};return n?r(n):s=new Promise(((e,t)=>{n=e,r(n)})),s}};let i=!1;try{const e={get passive(){return i=!0,!1}},t=()=>{};window.addEventListener("test",t,e),window.removeEventListener("test",t)}catch(e){i=!1}const s=i,n=".js-scroll-appear",o="data-scroll-appear-state";var r;!function(e){e.UNINITIALISED="uninitialised",e.HIDDEN="hidden",e.VISIBLE="visible"}(r||(r={}));class a{#e;#t;#i;#s;constructor(){this.#e=[],this.#t=null,this.#i=null,this.#s=0}push(e){this.#n(e)||e.getState()===r.HIDDEN&&(this.#e.push(e),this.#o())}catchUp(){for(let e=0;e<this.#e.length;e++){const t=this.#e[e];!1===t.isInViewport()&&(0===e?this.#r():(this.#e.splice(e,1),t.appear()),e-=1)}}#n(e){return this.#e.includes(e)}#o(){0!==this.#e.length?null===this.#t&&(this.#t=setTimeout((()=>this.#r()),this.#s)):this.#i=setTimeout((()=>{this.#s=0,this.#i=null}),this.#s)}#r(){this.#i&&(clearTimeout(this.#i),this.#i=null),this.#t&&clearTimeout(this.#t),this.#t=null;let e=this.#e.shift();for(;e?.getState()===r.VISIBLE;)e=this.#e.shift();e&&(e.appear(),this.#s=e.delay,this.#o())}}const l=new Map,u=new a;function c(e=document){const t=l.get(e)||new a;return!1===l.has(e)&&l.set(e,t),t}function h(){const e=[];for(const t of l.values())e.push(t);return e}l.set(document,u);const m=new Map;function d(e){return m.get(e)||new p(e)}class p{#a;#l;#u;constructor(e){if(m.has(e))throw new Error("Cannot create a second `ScrollAppearItem` for the same `Element`");m.set(e,this),this.#a=e,this.#l=this.#c(),this.#u=Number(e.getAttribute("data-scroll-appear-delay"))||0,this.getState()===r.UNINITIALISED&&this.#h(r.HIDDEN),this.#a.addEventListener("focusin",(()=>this.appear()),{once:!0})}get delay(){return this.#u}isInViewport(e=0){const t=window.innerHeight/2-50;e>t&&(e=t);const i=this.#a.getBoundingClientRect(),s=e,n=(window.innerHeight||document.documentElement.clientWidth)-e,o=i.bottom>=s,r=i.top<=n;return o&&r}appear(){this.#h(r.VISIBLE)}#h(e){this.#a.setAttribute(o,e)}getState(){const e=this.#a.getAttribute(o);return t=e,Object.values(r).includes(t)?e:r.UNINITIALISED;var t}#c(){const e=this.#a.getAttribute("data-scroll-appear-queue");if(e)return c(e);const t=this.#a.closest(".js-scroll-appear__container");return t?c(t):c()}queue(){this.#l.push(this)}}const I=100;function f(e){d(e)}function w(){Array.from(document.querySelectorAll(n)).map(d).filter((e=>e.getState()===r.HIDDEN)).filter((e=>e.isInViewport())).forEach((e=>e.queue()))}function v(){const e=h();for(const t of e)t.catchUp()}!function(i=document){!function(e=document){Array.from(e.querySelectorAll(n)).forEach(f),w()}(i),function(){const i=!s||{passive:!0},n=e(w,I),o=t(w,I);window.addEventListener("scroll",n,i),window.addEventListener("scroll",o,i),window.addEventListener("resize",n,i),window.addEventListener("resize",o,i);const r=e(v,I),a=t(v,I);window.addEventListener("scroll",r,i),window.addEventListener("scroll",a,i),window.addEventListener("resize",r,i),window.addEventListener("resize",a,i)}()}()})();
//# sourceMappingURL=docs-script.bundle.js.map