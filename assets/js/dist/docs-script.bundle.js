(()=>{"use strict";const t=function(t,e){let s=null,i=null;return function(...n){s?(i&&clearTimeout(i),i=setTimeout((()=>{t.apply(this,n),i=null}),e)):(t.apply(this,n),s=setTimeout((()=>{s=null}),e))}};let e=!1;try{const t={get passive(){return e=!0,!1}},s=()=>{};window.addEventListener("test",s,t),window.removeEventListener("test",s)}catch(t){e=!1}const s=e,i="data-scroll-appear-state";var n;!function(t){t.UNINITIALISED="uninitialised",t.HIDDEN="hidden",t.APPEARING="appearing",t.VISIBLE="visible"}(n||(n={}));class a{#t;#e;#s;#i;constructor(){this.#t=[],this.#e=null,this.#s=null,this.#i=0}push(t){this.#n(t)||t.getState()===n.HIDDEN&&(this.#t.push(t),this.#a())}catchUp(){for(let t=0;t<this.#t.length;t++){const e=this.#t[t];!1===e.isInViewport()&&(0===t?this.#o():(this.#t.splice(t,1),e.appear()),t-=1)}}#n(t){return this.#t.includes(t)}#a(){0!==this.#t.length?null===this.#e&&(this.#e=setTimeout((()=>this.#o()),this.#i)):this.#s=setTimeout((()=>{this.#i=0,this.#s=null}),this.#i)}#o(){this.#s&&(clearTimeout(this.#s),this.#s=null),this.#e&&clearTimeout(this.#e),this.#e=null;let t=this.#t.shift();for(;t?.getState()===n.VISIBLE;)t=this.#t.shift();t&&(t.appear(),this.#i=t.delay,this.#a())}}const o=new Map,l=new a;function r(t=document){const e=o.get(t)||new a;return!1===o.has(t)&&o.set(t,e),e}function u(){const t=[];for(const e of o.values())t.push(e);return t}o.set(document,l);const h=new Map;function c(t){return h.get(t)||new m(t)}class m{#l;#r;#u;constructor(t){if(h.has(t))throw new Error("Cannot create a second `ScrollAppearItem` for the same `Element`");h.set(t,this),this.#l=t,this.#r=this.#h(),this.#u=Number(t.getAttribute("data-scroll-appear-delay"))||0,this.getState()===n.UNINITIALISED&&this.#c(n.HIDDEN),this.#l.addEventListener("focusin",(()=>this.appear()),{once:!0})}get delay(){return this.#u}isInViewport(t=0){const e=window.innerHeight/2-50;t>e&&(t=e);const s=this.#l.getBoundingClientRect(),i=t,n=(window.innerHeight||document.documentElement.clientWidth)-t,a=s.bottom>=i,o=s.top<=n;return a&&o}appear(){matchMedia("(prefers-reduced-motion)").matches?this.#c(n.VISIBLE):(this.#c(n.APPEARING),"0s"!==getComputedStyle(this.#l).transitionDuration?this.#l.addEventListener("transitionend",(()=>this.#c(n.VISIBLE)),{once:!0}):this.#c(n.VISIBLE))}#c(t){this.#l.setAttribute(i,t)}getState(){const t=this.#l.getAttribute(i);return e=t,Object.values(n).includes(e)?t:n.UNINITIALISED;var e}#h(){const t=this.#l.getAttribute("data-scroll-appear-queue");if(t)return r(t);const e=this.#l.closest(".js-scroll-appear__container");return e?r(e):r()}queue(){this.#r.push(this)}}function d(){Array.from(document.querySelectorAll(".js-scroll-appear")).map(c).filter((t=>t.getState()===n.HIDDEN)).filter((t=>t.isInViewport())).forEach((t=>t.queue()))}function p(){const t=u();for(const e of t)e.catchUp()}d(),function(){const e=!s||{passive:!0},i=t(d,100);window.addEventListener("scroll",i,e),window.addEventListener("resize",i,e);const n=t(p,100);window.addEventListener("scroll",n,e),window.addEventListener("resize",n,e)}()})();
//# sourceMappingURL=docs-script.bundle.js.map